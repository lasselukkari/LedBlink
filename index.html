<!doctype html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-57069362-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-57069362-2');
  </script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script defer src="https://use.fontawesome.com/releases/v5.0.2/js/all.js"></script>
  <link rel="icon" href="favicon.ico" type="image/x-icon"/>
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <style>
    @media (min-width: 992px) {
      .container {
        max-width: 720px;
      }
    }

    .card {
      margin-bottom: 1rem;
    }

    .d2h-wrapper {
      text-align: left
    }

    .d2h-file-header {
      height: 35px;
      padding: 5px 10px;
      border-bottom: 1px solid #d8d8d8;
      background-color: #f7f7f7
    }

    .d2h-file-stats {
      display: flex;
      margin-left: auto;
      font-size: 14px
    }

    .d2h-lines-added {
      text-align: right;
      border: 1px solid #b4e2b4;
      border-radius: 5px 0 0 5px;
      color: #399839;
      padding: 2px;
      vertical-align: middle
    }

    .d2h-lines-deleted {
      text-align: left;
      border: 1px solid #e9aeae;
      border-radius: 0 5px 5px 0;
      color: #c33;
      padding: 2px;
      vertical-align: middle;
      margin-left: 1px
    }

    .d2h-file-name-wrapper {
      display: flex;
      align-items: center;
      width: 100%;
      font-family: "Source Sans Pro", "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 15px
    }

    .d2h-file-name {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow-x: hidden
    }

    .d2h-file-wrapper {
      border: 1px solid #ddd;
      border-radius: 3px;
      margin-bottom: 1em
    }

    .d2h-diff-table {
      width: 100%;
      border-collapse: collapse;
      font-family: Menlo, Consolas, monospace;
      font-size: 13px
    }

    .d2h-diff-tbody > tr > td {
      height: 20px;
      line-height: 1
    }

    .d2h-file-diff {
      overflow-x: scroll;
      overflow-y: hidden
    }

    .d2h-code-line {
      display: inline-block;
      white-space: nowrap;
      padding: 0 10px
    }

    .d2h-code-line del, .d2h-code-side-line del {
      display: inline-block;
      margin-top: -1px;
      text-decoration: none;
      background-color: #ffb6ba;
      border-radius: .2em
    }

    .d2h-code-line ins, .d2h-code-side-line ins {
      display: inline-block;
      margin-top: -1px;
      text-decoration: none;
      background-color: #97f295;
      border-radius: .2em;
      text-align: left
    }

    .d2h-code-line-prefix {
      display: inline;
      background: 0 0;
      padding: 0;
      word-wrap: normal;
      white-space: pre
    }

    .d2h-code-line-ctn {
      display: inline;
      background: 0 0;
      padding: 0;
      word-wrap: normal;
      white-space: pre
    }

    .line-num1 {
      box-sizing: border-box;
      float: left;
      width: 40px;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-left: 3px
    }

    .line-num2 {
      box-sizing: border-box;
      float: right;
      width: 40px;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-left: 3px
    }

    .d2h-code-linenumber {
      box-sizing: border-box;
      width: 86px;
      padding-left: 2px;
      padding-right: 2px;
      background-color: #fff;
      color: rgba(0, 0, 0, .3);
      text-align: right;
      border: solid #eee;
      border-width: 0 1px 0 1px;
      cursor: pointer
    }

    .d2h-del {
      background-color: #fee8e9;
      border-color: #e9aeae
    }

    .d2h-ins {
      background-color: #dfd;
      border-color: #b4e2b4
    }

    .d2h-info {
      background-color: #f8fafd;
      color: rgba(0, 0, 0, .3);
      border-color: #d5e4f2
    }

    .d2h-file-diff .d2h-del.d2h-change {
      background-color: #fdf2d0
    }

    .d2h-file-diff .d2h-ins.d2h-change {
      background-color: #ded
    }

    .d2h-file-list-wrapper {
      margin-bottom: 10px
    }

    .d2h-file-list-wrapper a {
      text-decoration: none;
      color: #3572b0
    }

    .d2h-file-list-wrapper a:visited {
      color: #3572b0
    }

    .d2h-file-list-header {
      text-align: left
    }

    .d2h-file-list-title {
      font-weight: 700
    }

    .d2h-file-list-line {
      display: flex;
      text-align: left
    }

    .d2h-file-list {
      display: block;
      list-style: none;
      padding: 0;
      margin: 0
    }

    .d2h-file-list > li {
      border-bottom: #ddd solid 1px;
      padding: 5px 10px;
      margin: 0
    }

    .d2h-file-list > li:last-child {
      border-bottom: none
    }

    .d2h-file-switch {
      display: none;
      font-size: 10px;
      cursor: pointer
    }

    .d2h-icon {
      vertical-align: middle;
      margin-right: 10px;
      fill: currentColor
    }

    .d2h-changed {
      color: #d0b44c
    }

    .d2h-tag {
      display: flex;
      font-size: 10px;
      margin-left: 5px;
      padding: 0 2px;
      background-color: #fff
    }

    .d2h-changed-tag {
      border: #d0b44c 1px solid
    }

    .selecting-left .d2h-code-line, .selecting-left .d2h-code-line *, .selecting-left .d2h-code-side-line, .selecting-left .d2h-code-side-line *, .selecting-right td.d2h-code-linenumber, .selecting-right td.d2h-code-linenumber *, .selecting-right td.d2h-code-side-linenumber, .selecting-right td.d2h-code-side-linenumber * {
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none
    }

    .selecting-left .d2h-code-line ::-moz-selection, .selecting-left .d2h-code-line::-moz-selection, .selecting-left .d2h-code-side-line ::-moz-selection, .selecting-left .d2h-code-side-line::-moz-selection, .selecting-right td.d2h-code-linenumber::-moz-selection, .selecting-right td.d2h-code-side-linenumber ::-moz-selection, .selecting-right td.d2h-code-side-linenumber::-moz-selection {
      background: 0 0
    }

    .selecting-left .d2h-code-line ::selection, .selecting-left .d2h-code-line::selection, .selecting-left .d2h-code-side-line ::selection, .selecting-left .d2h-code-side-line::selection, .selecting-right td.d2h-code-linenumber::selection, .selecting-right td.d2h-code-side-linenumber ::selection, .selecting-right td.d2h-code-side-linenumber::selection {
      background: 0 0
    }
  </style>
  <title>Arduino Full Stack</title>
</head>
<body>

<div class="container">
  <h1>Arduino Full Stack</h1>
  <p class="lead">- Deploying a React app on the ESP32</p>
  <p>
    <img src="images/loop.gif" class="rounded mx-auto d-block img-thumbnail"/>
  </p>
  <p>
    In this tutorial we are going to build a JavaScript single page app to blink a led.
  </p>
  <p>
    Of course in real life blinking a led definitely does not require a full blown front-end framework. However the
    same workflow can be applied to a lot more complex use cases like <a
      href="https://github.com/lasselukkari/DuinoDCX">this</a>. Also the tutorial is more about the toolchain than it is
    about Arduino or React programming. In total there is less than 50 lines of code changes and only few
    small functions that we need implement.
  </p>
  <p>
    The idea is that whole application will be completely hosted on a ESP32 microcontroller. This includes the static
    files for the user interface. This way the end user does not need to install any special applications. A device with
    a wifi connection and a browser is all that is needed.
  </p>
  <p>
    The ready project is hosted at <a href="https://github.com/lasselukkari/led-blink/">Github</a>. If you want to
    skip the tutorial and just try out the application first you can download the project from there and flash it to
    your microcontroller. Throughout the instructions I will also include links to the corresponding commits in the
    version control system. The links will look like this: <a
      href="https://github.com/lasselukkari/led-blink/commits/master"><i
      class="fab fa-github"></i></a>
  </p>
  <p>
    The tutorial is divided into 5 parts:
  </p>
  <div class="list-group">
    <a href="#environment" class="list-group-item">
      1. Development Environment
    </a>
    <a href="#setup" class="list-group-item">
      2. Project Setup
    </a>
    <a href="#back-end" class="list-group-item">
      3. Back-end Development
    </a>
    <a href="#front-end" class="list-group-item">
      4. Front-end Development
    </a>
    <a href="#build" class="list-group-item">
      5. Building the Project
    </a>
  </div>
  <br/>
  <h3 id="environment">
    1. Development Environment
  </h3>
  <p>
    So letâ€™s get started. There are few prerequisites that you need to have to follow this tutorial. First off you need
    a microcontroller development board. Because we are going to use the Arduino framework the same code is easy to port
    to multiple different platforms. In this tutorial I am using the ESP32 chip. The only hardware you will need is an
    ESP32 development board with an on board user configurable led. A board with the ESP8266 chip will work as well.
  </p>
  <p>
    Unless you already have Arduino, ESP32 and Node.js development environments you will need to install:
  <ul>
    <li><a href="https://nodejs.org/en/">Node.js JavaScript runtime</a></li>
    <li><a href="https://www.arduino.cc/en/main/software">Arduino IDE</a></li>
    <li><a href="https://github.com/espressif/arduino-esp32#installation-instructions">Arduino core for ESP32 WiFi
      chip</a></li>
  </ul>
  <p>
    Make sure your node.js is newer than 8.10.0:<br/>
    <kbd>
      node -v
    </kbd>
  </p>

  <p>
    And that your npm is newer than 5.2:<br/>
    <kbd>
      npm -v
    </kbd>
  <p>

  <h3 id="setup">2. Project Setup</h3>
  <p>
    While the same workflow can be applied to any single page app framework we are going to use <a
      href="https://reactjs.org/">React</a>. To get a head start
    we are going to create the project template with the <a
      href="https://github.com/facebook/create-react-app">create-react-app</a> tool.
  </p>
  <p>
    To generate the application boilerplate run:<br/>
    <kbd>
      npx create-react-app led-blink
    </kbd>
  </p>

  <p>
    Patiently wait while the script downloads half of the internet.
  </p>

  <p>
    Running the command created us a new project
    directory called <strong>led-blink</strong> <a
      href="https://github.com/lasselukkari/led-blink/commit/5ed54f672cb539a2e5aa87f1068d53b6c619e3d9"><i
      class="fab fa-github"></i></a>. Open the project in your favourite code editor. Our initial project structure
    looks like this.
  </p>
  <div class="card bg-light">
  <pre>

  led-blink
    â”œâ”€â”€ README.md
    â”œâ”€â”€ node_modules
    â”œâ”€â”€ package.json
    â”œâ”€â”€ .gitignore
    â”œâ”€â”€ public
    â”‚   â”œâ”€â”€ favicon.ico
    â”‚   â”œâ”€â”€ index.html
    â”‚   â””â”€â”€ manifest.json
    â””â”€â”€ src
        â”œâ”€â”€ App.css
        â”œâ”€â”€ App.js
        â”œâ”€â”€ App.test.js
        â”œâ”€â”€ index.css
        â”œâ”€â”€ index.js
        â”œâ”€â”€ logo.svg
        â””â”€â”€ serviceWorker.js</pre>
  </div>
  <p>
    While the <a href="https://github.com/facebook/create-react-app">create-react-app</a> took care of our front-end
    boilerplate we still have nothing for the back-end that will be
    running on the ESP32 board.
  </p>
  <p>
    First move into the newly created project directory in the console window by running:<br/>
    <kbd>
      cd led-blink
    </kbd>
  </p>
  <p>
    Next we need to install some more tools to generate the back-end project:<br/>
    <kbd>
      npm install awot-scripts --save-dev
    </kbd>
    &nbsp<a href="https://github.com/lasselukkari/led-blink/commit/0b19ac0005bbfefb158f2dd10122883f1e10ca2e"><i
      class="fab fa-github"></i></a>

  </p>
  <p>
    To generate the back-end boilerplate run:<br/>
    <kbd>
      npx awot-create BlinkServer
    </kbd>
    &nbsp<a href="https://github.com/lasselukkari/led-blink/commit/5eb2b376bae731ed87adf60244b7c1b56047dcaa"><i
      class="fab fa-github"></i></a>

  </p>
  <p>
    The command created us a ready made Arduino webserver project under the directory <strong>BlinkServer</strong>.
    Open the project in the Arduino IDE. If you are planning to edit the Arduino code in your own editor instead of the
    official IDE, you will want to toggle on the <strong>Use external editor</strong> setting in the Arduino IDE
    preferences. Otherwise files that are open in the editor will not get updated if they are edited elsewhere.
  </p>
  <p>
    Now the project structure looks like this:
  </p>
  <div class="card bg-light">
    <pre>

  led-blink
    â”œâ”€â”€ README.md
    â”œâ”€â”€ node_modules
    â”œâ”€â”€ package.json
    â”œâ”€â”€ .gitignore
    â”œâ”€â”€ BlinkServer
    â”‚   â”œâ”€â”€ BlinkServer.ino
    â”‚   â”œâ”€â”€ StaticFiles.ino
    â”‚   â”œâ”€â”€ aWOT.cpp
    â”‚   â””â”€â”€ aWOT.h
    â”œâ”€â”€ public
    â””â”€â”€ src</pre>
  </div>
  <h3 id="back-end">3. Back-end Development</h3>
  <p>
    The HTTP API is going to be simple. We need to implement two HTTP handler functions. One for reading the current
    state of the led and
    one for updating it. For simplicity's sake we are going to use just the characters â€˜0â€™ and â€˜1â€™ to describe the
    state. Also fill in the wifi credentials.
    <a href="https://github.com/lasselukkari/led-blink/commit/2fd2f9ad01f6ddc1934ff52774c63676d732546d"><i
        class="fab fa-github"></i></a>
  </p>

  <div class="diff">
    <div class="d2h-file-list-wrapper">
      <div class="d2h-file-list-header">
        <span class="d2h-file-list-title">Files changed (1)</span>
        <a class="d2h-file-switch d2h-hide">hide</a>
        <a class="d2h-file-switch d2h-show">show</a>
      </div>
      <ol class="d2h-file-list">
        <li class="d2h-file-list-line">
    <span class="d2h-file-name-wrapper">
      <svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"
           viewBox="0 0 14 16" width="14">
        <path
            d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>
      </svg>      <a href="#d2h-777323" class="d2h-file-name">BlinkServer/BlinkServer.ino</a>
      <span class="d2h-file-stats">
          <span class="d2h-lines-added">+16</span>
          <span class="d2h-lines-deleted">-0</span>
      </span>
    </span>
        </li>
      </ol>
    </div>
    <div class="d2h-wrapper">
      <div id="d2h-777323" class="d2h-file-wrapper" data-lang="ino">
        <div class="d2h-file-header">
    <span class="d2h-file-name-wrapper">
    <svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">
      <path
          d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>
    </svg>    <span class="d2h-file-name">BlinkServer/BlinkServer.ino</span>
    <span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span></span>
        </div>
        <div class="d2h-file-diff">
          <div class="d2h-code-wrapper">
            <table class="d2h-diff-table">
              <tbody class="d2h-diff-tbody">
              <tr>
                <td class="d2h-code-linenumber d2h-info"></td>
                <td class="d2h-info">
                  <div class="d2h-code-line d2h-info">@@ -3,11 +3,25 @@</div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">3</div>
                  <div class="line-num2">3</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">4</div>
                  <div class="line-num2">4</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">#define WIFI_SSID &quot;network&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">5</div>
                  <div class="line-num2">5</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">#define WIFI_PASSWORD &quot;password&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">6</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">#define LED_BUILTIN 2</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">6</div>
                  <div class="line-num2">7</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">7</div>
                  <div class="line-num2">8</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">WiFiServer server(80);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">8</div>
                  <div class="line-num2">9</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">WebApp app;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">10</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">bool ledOn;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">11</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">12</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">void readLed(Request &amp;req, Response &amp;res) {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">13</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  res.success(&quot;text&#x2F;plain&quot;);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">14</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  res.print(ledOn);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">15</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">}</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">16</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">17</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">void updateLed(Request &amp;req, Response &amp;res) {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">18</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  ledOn = (req.read() != &#x27;0&#x27;);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">19</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  digitalWrite(LED_BUILTIN, ledOn);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">20</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  return readLed(req, res);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">21</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">}</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">9</div>
                  <div class="line-num2">22</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">10</div>
                  <div class="line-num2">23</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">void setup() {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">24</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  pinMode(LED_BUILTIN, OUTPUT);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">11</div>
                  <div class="line-num2">25</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  Serial.begin(115200);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">12</div>
                  <div class="line-num2">26</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  WiFi.begin(WIFI_SSID, WIFI_PASSWORD);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">13</div>
                  <div class="line-num2">27</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-info"></td>
                <td class="d2h-info">
                  <div class="d2h-code-line d2h-info">@@ -18,6 +32,8 @@ void setup() {</div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">18</div>
                  <div class="line-num2">32</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">19</div>
                  <div class="line-num2">33</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  Serial.println(WiFi.localIP());</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">20</div>
                  <div class="line-num2">34</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">35</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  app.get(&quot;&#x2F;led&quot;, &amp;readLed);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">36</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  app.put(&quot;&#x2F;led&quot;, &amp;updateLed);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">21</div>
                  <div class="line-num2">37</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  app.use(staticFiles());</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">22</div>
                  <div class="line-num2">38</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  server.begin();</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">23</div>
                  <div class="line-num2">39</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">}</span>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <p>
    If you are using the ESP8266 chip we need to make one more modification. Renaming one import is all that is needed.
  </p>
  <div class="diff">
    <div class="d2h-file-list-wrapper">
      <div class="d2h-file-list-header">
        <span class="d2h-file-list-title">Files changed (1)</span>
        <a class="d2h-file-switch d2h-hide">hide</a>
        <a class="d2h-file-switch d2h-show">show</a>
      </div>
      <ol class="d2h-file-list">
        <li class="d2h-file-list-line">
    <span class="d2h-file-name-wrapper">
      <svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"
           viewBox="0 0 14 16" width="14">
        <path
            d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>
      </svg>      <a href="#d2h-777323" class="d2h-file-name">BlinkServer/BlinkServer.ino</a>
      <span class="d2h-file-stats">
          <span class="d2h-lines-added">+1</span>
          <span class="d2h-lines-deleted">-1</span>
      </span>
    </span>
        </li>
      </ol>
    </div>
    <div class="d2h-wrapper">
      <div id="d2h-777323" class="d2h-file-wrapper" data-lang="ino">
        <div class="d2h-file-header">
    <span class="d2h-file-name-wrapper">
    <svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">
      <path
          d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>
    </svg>    <span class="d2h-file-name">BlinkServer/BlinkServer.ino</span>
    <span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span></span>
        </div>
        <div class="d2h-file-diff">
          <div class="d2h-code-wrapper">
            <table class="d2h-diff-table">
              <tbody class="d2h-diff-tbody">
              <tr>
                <td class="d2h-code-linenumber d2h-info"></td>
                <td class="d2h-info">
                  <div class="d2h-code-line d2h-info">@@ -1,4 +1,4 @@</div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">1</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">#include &lt;<del>WiFi</del>.h&gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">1</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">#include &lt;<ins>ESP8266WiFi</ins>.h&gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">2</div>
                  <div class="line-num2">2</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">#include &quot;aWOT.h&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">3</div>
                  <div class="line-num2">3</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">4</div>
                  <div class="line-num2">4</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">#define WIFI_SSID &quot;network&quot;</span>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <p>
    Next, hook up your development board, and verify that you have the the correct target board and serial port selected
    and upload the sketch to your microcontroller. When the microcontroller boots up and gets a connection it will print
    the local IP address. Copy it somewhere as we are going to need it later on.
  </p>
  <img src="images/serialconsole.png" class="img-fluid"/>
  <p>
    Mine
    got the IP address <strong>192.168.1.227</strong>.
  </p>
  <p>
    Before moving on let's make sure our back-end works as expected.
  </p>
  <p>
    To to turn the led off:<br/>
    <kbd>
      curl 'http://192.168.1.227/led' -X PUT --data-binary '0'
    </kbd>
  </p>

  <p>
    To to turn the led on:<br/>
    <kbd>
      curl 'http://192.168.1.227/led' -X PUT --data-binary '1'
    </kbd>
  </p>

  <h3 id="front-end">4. Front-end Development</h3>
  <p>
    Now that the back-end is done, we are ready to start working with the user interface. Uploading the user interface
    files to the microcontroller board every time we make changes would be way too slow a
    development cycle. Luckily we can proxy all API requests to the ESP32 while we do local development. To forward the
    API requests to the microcontroller we need to configure the proxy setting in our package.json

    <a href="https://github.com/lasselukkari/led-blink/commit/b0fdc66d429f3c18ba814e609977ab8b72dead21"><i
        class="fab fa-github"></i></a>
  </p>
  <div class="diff">
    <div class="d2h-file-list-wrapper">
      <div class="d2h-file-list-header">
        <span class="d2h-file-list-title">Files changed (1)</span>
        <a class="d2h-file-switch d2h-hide">hide</a>
        <a class="d2h-file-switch d2h-show">show</a>
      </div>
      <ol class="d2h-file-list">
        <li class="d2h-file-list-line">
    <span class="d2h-file-name-wrapper">
      <svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"
           viewBox="0 0 14 16" width="14">
        <path
            d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>
      </svg>      <a href="#d2h-519664" class="d2h-file-name">package.json</a>
      <span class="d2h-file-stats">
          <span class="d2h-lines-added">+2</span>
          <span class="d2h-lines-deleted">-1</span>
      </span>
    </span>
        </li>
      </ol>
    </div>
    <div class="d2h-wrapper">
      <div id="d2h-519664" class="d2h-file-wrapper" data-lang="json">
        <div class="d2h-file-header">
    <span class="d2h-file-name-wrapper">
    <svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">
      <path
          d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>
    </svg>    <span class="d2h-file-name">package.json</span>
    <span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span></span>
        </div>
        <div class="d2h-file-diff">
          <div class="d2h-code-wrapper">
            <table class="d2h-diff-table">
              <tbody class="d2h-diff-tbody">
              <tr>
                <td class="d2h-code-linenumber d2h-info"></td>
                <td class="d2h-info">
                  <div class="d2h-code-line d2h-info">@@ -25,5 +25,6 @@</div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">25</div>
                  <div class="line-num2">25</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  ],</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">26</div>
                  <div class="line-num2">26</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  &quot;devDependencies&quot;: {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">27</div>
                  <div class="line-num2">27</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">    &quot;awot-scripts&quot;: &quot;0.0.22&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">28</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">  }</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">28</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  },</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">29</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  &quot;proxy&quot;: &quot;http:&#x2F;&#x2F;arduino.ip&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">29</div>
                  <div class="line-num2">30</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">}</span>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <p>
    Because every cool javascript
    project uses a lot of libraries to do the most simple things we are going to add a react toggle button component as
    a project dependency.<br/>
    <kbd>
      npm install react-toggle-button --save
    </kbd>

    &nbsp<a href="https://github.com/lasselukkari/led-blink/commit/329f51aa250c58a5b8bcd09a0d7a1d5808d89e66"><i
      class="fab fa-github"></i></a>
  </p>
  <p>
    Spin up the development server unless itâ€™s open already:<br/>
    <kbd>
      npm start
    </kbd>
    <br/>
  </p>
  <p>
    Next open up the App.js and do the following modifications.

    <a href="https://github.com/lasselukkari/led-blink/commit/170b01f48bafb6fed777df18c468eaaf09b35a7d">
      <i class="fab fa-github"></i>
    </a>
  </p>
  <div class="diff">
    <div class="d2h-file-list-wrapper">
      <div class="d2h-file-list-header">
        <span class="d2h-file-list-title">Files changed (1)</span>
        <a class="d2h-file-switch d2h-hide">hide</a>
        <a class="d2h-file-switch d2h-show">show</a>
      </div>
      <ol class="d2h-file-list">
        <li class="d2h-file-list-line">
    <span class="d2h-file-name-wrapper">
      <svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"
           viewBox="0 0 14 16" width="14">
        <path
            d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>
      </svg>      <a href="#d2h-649569" class="d2h-file-name">src/App.js</a>
      <span class="d2h-file-stats">
          <span class="d2h-lines-added">+26</span>
          <span class="d2h-lines-deleted">-11</span>
      </span>
    </span>
        </li>
      </ol>
    </div>
    <div class="d2h-wrapper">
      <div id="d2h-649569" class="d2h-file-wrapper" data-lang="js">
        <div class="d2h-file-header">
    <span class="d2h-file-name-wrapper">
    <svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">
      <path
          d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>
    </svg>    <span class="d2h-file-name">src/App.js</span>
    <span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span></span>
        </div>
        <div class="d2h-file-diff">
          <div class="d2h-code-wrapper">
            <table class="d2h-diff-table">
              <tbody class="d2h-diff-tbody">
              <tr>
                <td class="d2h-code-linenumber d2h-info"></td>
                <td class="d2h-info">
                  <div class="d2h-code-line d2h-info">@@ -1,24 +1,39 @@</div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">1</div>
                  <div class="line-num2">1</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">import React, { Component } from &#x27;react&#x27;;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">2</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">import ToggleButton from &#x27;react-toggle-button&#x27;;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">2</div>
                  <div class="line-num2">3</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">import logo from &#x27;.&#x2F;logo.svg&#x27;;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">3</div>
                  <div class="line-num2">4</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">import &#x27;.&#x2F;App.css&#x27;;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">4</div>
                  <div class="line-num2">5</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">5</div>
                  <div class="line-num2">6</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">class App extends Component {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">7</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  constructor(props) {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">8</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    super(props);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">9</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    this.state = { ledOn: false };</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">10</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  }</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">11</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">12</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  setLedState(state){</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">13</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    this.setState({ ledOn: state !== &#x27;0&#x27; })</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">14</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  }</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">15</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">16</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  componentDidMount() {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">17</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    fetch(&#x27;&#x2F;led&#x27;)</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">18</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">      .then(response =&gt; response.text())</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">19</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">      .then(state =&gt; this.setLedState(state));</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">20</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  }</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">21</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">22</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  handleStateChange(ledOn) {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">23</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    fetch(&#x27;&#x2F;led&#x27;, { method: &#x27;PUT&#x27;, body: ledOn ? &#x27;0&#x27; : &#x27;1&#x27; })</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">24</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">      .then(response =&gt; response.text())</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">25</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">      .then(state =&gt; this.setLedState(state));</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">26</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  }</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">27</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">6</div>
                  <div class="line-num2">28</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  render() {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">7</div>
                  <div class="line-num2">29</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">    return (</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">8</div>
                  <div class="line-num2">30</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">      &lt;div className=&quot;App&quot;&gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">9</div>
                  <div class="line-num2">31</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">        &lt;header className=&quot;App-header&quot;&gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">10</div>
                  <div class="line-num2">32</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">          &lt;img src={logo} className=&quot;App-logo&quot; alt=&quot;logo&quot; &#x2F;&gt;</span>
                  </div>
                </td>
              </tr>

              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">11</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">          &lt;p&gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">12</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">            Edit &lt;code&gt;src&#x2F;App.js&lt;&#x2F;code&gt;and save to reload.</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">13</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">          &lt;&#x2F;p&gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">14</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">          &lt;a</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">15</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">            className=&quot;App-link&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">16</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">            href=&quot;https:&#x2F;&#x2F;reactjs.org&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">17</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">            target=&quot;_blank&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">18</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">            rel=&quot;noopener noreferrer&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">19</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">          &gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">20</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">            Learn React</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">21</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">          &lt;&#x2F;a&gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">33</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">          &lt;ToggleButton</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">34</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">            value={this.state.ledOn}</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">35</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span
                        class="d2h-code-line-ctn">            onToggle={value =&gt; this.handleStateChange(value)}</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">36</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">          &#x2F;&gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">22</div>
                  <div class="line-num2">37</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">        &lt;&#x2F;header&gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">23</div>
                  <div class="line-num2">38</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">      &lt;&#x2F;div&gt;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">24</div>
                  <div class="line-num2">39</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">    );</span>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <p>
    Now toggling the button should also blink the led on the microcontroller.
  </p>
  <h3 id="build">5. Building the Project</h3>
  <p>
    We are now almost ready to upload the app to the microcontroller, but first we need to build a minified version of
    it. To do this run:</br>
    <kbd>
      npm run build
    </kbd>
  </p>

  <p>
    The command created us a new directory called <strong>build</strong>. This directory now contains the minified
    javascript and css files as well as other static files like images.
  </p>
  <p>
    The next step is to serve these files with the microcontroller. Unless you have set the <strong>Use external
    editor</strong> setting in the Arduino IDE you will need to close the Arduino project at this point.
  </p>
  <p>
    To convert the files in the <strong>build</strong> directory to a Arduino compatible format we need first add some
    configurations to the <strong>package.json</strong>.
    <a href="https://github.com/lasselukkari/led-blink/commit/fdd63303a7acc355881a0ba13fac6abca975c9da"><i
        class="fab fa-github"></i></a>
  </p>
  <div class="diff">
    <div class="d2h-file-list-wrapper">
      <div class="d2h-file-list-header">
        <span class="d2h-file-list-title">Files changed (1)</span>
        <a class="d2h-file-switch d2h-hide">hide</a>
        <a class="d2h-file-switch d2h-show">show</a>
      </div>
      <ol class="d2h-file-list">
        <li class="d2h-file-list-line">
    <span class="d2h-file-name-wrapper">
      <svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"
           viewBox="0 0 14 16" width="14">
        <path
            d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>
      </svg>      <a href="#d2h-519664" class="d2h-file-name">package.json</a>
      <span class="d2h-file-stats">
          <span class="d2h-lines-added">+12</span>
          <span class="d2h-lines-deleted">-2</span>
      </span>
    </span>
        </li>
      </ol>
    </div>
    <div class="d2h-wrapper">
      <div id="d2h-519663" class="d2h-file-wrapper" data-lang="json">
        <div class="d2h-file-header">
    <span class="d2h-file-name-wrapper">
    <svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">
      <path
          d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>
    </svg>    <span class="d2h-file-name">package.json</span>
    <span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span></span>
        </div>
        <div class="d2h-file-diff">
          <div class="d2h-code-wrapper">
            <table class="d2h-diff-table">
              <tbody class="d2h-diff-tbody">
              <tr>
                <td class="d2h-code-linenumber d2h-info"></td>
                <td class="d2h-info">
                  <div class="d2h-code-line d2h-info">@@ -12,7 +12,8 @@</div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">12</div>
                  <div class="line-num2">12</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">    &quot;start&quot;: &quot;react-scripts start&quot;,</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">13</div>
                  <div class="line-num2">13</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">    &quot;build&quot;: &quot;react-scripts build&quot;,</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">14</div>
                  <div class="line-num2">14</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">    &quot;test&quot;: &quot;react-scripts test&quot;,</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">15</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">    &quot;eject&quot;: &quot;react-scripts eject&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">15</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    &quot;eject&quot;: &quot;react-scripts eject&quot;,</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">16</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    &quot;dist&quot;: &quot;awot-static&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">16</div>
                  <div class="line-num2">17</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  },</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">17</div>
                  <div class="line-num2">18</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  &quot;eslintConfig&quot;: {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">18</div>
                  <div class="line-num2">19</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">    &quot;extends&quot;: &quot;react-app&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-info"></td>
                <td class="d2h-info">
                  <div class="d2h-code-line d2h-info">@@ -26,5 +27,14 @@</div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">26</div>
                  <div class="line-num2">27</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  &quot;devDependencies&quot;: {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">27</div>
                  <div class="line-num2">28</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">    &quot;awot-scripts&quot;: &quot;0.0.22&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">28</div>
                  <div class="line-num2">29</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">  },</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-del">
                  <div class="line-num1">29</div>
                  <div class="line-num2"></div>
                </td>
                <td class="d2h-del">
                  <div class="d2h-code-line d2h-del">
                    <span class="d2h-code-line-prefix">-</span>
                    <span class="d2h-code-line-ctn">  &quot;proxy&quot;: &quot;http:&#x2F;&#x2F;arduino.ip&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">30</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  &quot;proxy&quot;: &quot;http:&#x2F;&#x2F;arduino.ip&quot;,</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">31</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  &quot;awot-static&quot;: {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">32</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    &quot;sources&quot;: &quot;.&#x2F;build&quot;,</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">33</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    &quot;indexFile&quot;: &quot;index.html&quot;,</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">34</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    &quot;sketchDir&quot;: &quot;.&#x2F;BlinkServer&quot;,</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">35</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    &quot;exclude&quot;: [</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">36</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">      &quot;*.map&quot;,</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">37</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">      &quot;service-worker.js&quot;</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">38</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    ]</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">39</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  }</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-cntx">
                  <div class="line-num1">30</div>
                  <div class="line-num2">40</div>
                </td>
                <td class="d2h-cntx">
                  <div class="d2h-code-line d2h-cntx">
                    <span class="d2h-code-line-prefix"> </span>
                    <span class="d2h-code-line-ctn">}</span>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <p>
    Next run:<br/>
    <kbd>
      npm run dist
    </kbd>
  </p>
  <p>
    This command took the contents of <strong>build</strong> directory and embedded the data to the <strong>StaticFiles.ino</strong>
    under the <strong>BlinkServer</strong> directory. To save some space the files were at the same time compressed with
    gzip. The script also generated the proper http headers for encoding, cache control, response length and content
    type. In real life you would most likely want to exclude this file from your version control system. <a
      href="https://github.com/lasselukkari/led-blink/commit/c7f2330f8d0eeea4d2415bba7a91027d559ad77d"><i
      class="fab fa-github"></i></a>

  </p>
  <div class="diff">
    <div class="d2h-file-list-wrapper">
      <div class="d2h-file-list-header">
        <span class="d2h-file-list-title">Files changed (1)</span>
        <a class="d2h-file-switch d2h-hide">hide</a>
        <a class="d2h-file-switch d2h-show">show</a>
      </div>
      <ol class="d2h-file-list">
        <li class="d2h-file-list-line">
    <span class="d2h-file-name-wrapper">
      <svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"
           viewBox="0 0 14 16" width="14">
        <path
            d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>
      </svg>      <a href="#d2h-764011" class="d2h-file-name">BlinkServer/StaticFiles.ino</a>
      <span class="d2h-file-stats">
          <span class="d2h-lines-added">+4487</span>
          <span class="d2h-lines-deleted">-14</span>
      </span>
    </span>
        </li>
      </ol>
    </div>
    <div class="d2h-wrapper">
      <div id="d2h-764011" class="d2h-file-wrapper" data-lang="ino">
        <div class="d2h-file-header">
    <span class="d2h-file-name-wrapper">
    <svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">
      <path
          d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>
    </svg>    <span class="d2h-file-name">BlinkServer/StaticFiles.ino</span>
    <span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span></span>
        </div>
        <div class="d2h-file-diff">
          <div class="d2h-code-wrapper">
            <table class="d2h-diff-table">
              <tbody class="d2h-diff-tbody">
              <tr>
                <td class="d2h-code-linenumber d2h-info"></td>
                <td class="d2h-info">
                  <div class="d2h-code-line d2h-info">@@ -1,21 +1,4494 @@</div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">410</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">void static_index (Request &amp;req, Response &amp;res) {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">411</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  P(static_index_0) = {</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">412</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x13, 0x8d, 0x55,</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-info"></td>
                <td class="d2h-info">
                  <div class="d2h-code-line d2h-info">...</div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">499</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">    0x00</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">500</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  };</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">501</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">502</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  res.set(&quot;Content-Encoding&quot;, &quot;gzip&quot;);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">503</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  res.set(&quot;Cache-Control&quot;, &quot;no-cache&quot;);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">504</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  res.set(&quot;Content-Length&quot;, &quot;1045&quot;);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">505</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  res.set(&quot;Last-Modified&quot;, &quot;Wed, 16 Jan 2019 20:18:30 GMT&quot;);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">506</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  res.set(&quot;Vary&quot;, &quot;Accept-Encoding&quot;);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">507</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">508</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  res.success(&quot;text&#x2F;html; charset=utf-8&quot;);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">509</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">  res.writeP(static_index_0, 1045);</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="d2h-code-linenumber d2h-ins">
                  <div class="line-num1"></div>
                  <div class="line-num2">510</div>
                </td>
                <td class="d2h-ins">
                  <div class="d2h-code-line d2h-ins">
                    <span class="d2h-code-line-prefix">+</span>
                    <span class="d2h-code-line-ctn">}</span>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <p>
    You can now upload your sketch. Point your browser to the device IP that is displayed when it boots up.
    With any luck, in a few hundred milliseconds you should see the same page as before, but now completely hosted on the
    microcontroller.
  </p>
  <img src="images/ready.png" class="img-fluid"/>
</div>

</body>
</html>
